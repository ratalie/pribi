---
title: Metadata and registries
source: https://zod.dev/metadata
author:
  - "[[For library authors]]"
published:
created: 2025-10-21
description: Attaching and manipulatinvg metadata on Zod schemas
tags:
  - clippings
updated: 2025-10-21T08:21
---
üíé Zod 4 is now stable! [Read the announcement.](https://zod.dev/v4)

[Edit this page](https://github.com/colinhacks/zod/edit/main/packages/docs/content/metadata.mdx)

It's often useful to associate a schema with some additional *metadata* for documentation, code generation, AI structured outputs, form validation, and other purposes.

## Registries

Metadata in Zod is handled via *registries*. Registries are collections of schemas, each associated with some *strongly-typed* metadata. To create a simple registry:

```
import * as z from "zod";

 

const myRegistry = z.registry<{ description: string }>();
```

To register, lookup, and remove schemas from this registry:

```
const mySchema = z.string();

 

myRegistry.add(mySchema, { description: "A cool schema!"});

myRegistry.has(mySchema); // => true

myRegistry.get(mySchema); // => { description: "A cool schema!" }

myRegistry.remove(mySchema);

myRegistry.clear(); // wipe registry
```

TypeScript enforces that the metadata for each schema matches the registry's **metadata type**.

```
myRegistry.add(mySchema, { description: "A cool schema!" }); // ‚úÖ

myRegistry.add(mySchema, { description: 123 }); // ‚ùå
```

**Special handling for `id`** ‚Äî Zod registries treat the `id` property specially. An `Error` will be thrown if multiple schemas are registered with the same `id` value. This is true for all registries, including the global registry.

### .register()

**Note** ‚Äî This method is special in that it does not return a new schema; instead, it returns the original schema. No other Zod method does this! That includes `.meta()` and `.describe()` (documented below) which return a new instance.

Schemas provide a `.register()` method to more conveniently add it to a registry.

This lets you define metadata "inline" in your schemas.

## Metadata

### z.globalRegistry

For convenience, Zod provides a global registry (`z.globalRegistry`) that can be used to store metadata for JSON Schema generation or other purposes. It accepts the following metadata:

```
export interface GlobalMeta {

  id?: string ;

  title?: string ;

  description?: string;

  deprecated?: boolean;

  [k: string]: unknown;

}
```

To register some metadata in `z.globalRegistry` for a schema:

To globally augment the `GlobalMeta` interface, use [*declaration merging*](https://www.typescriptlang.org/docs/handbook/declaration-merging.html). Add the following anywhere in your codebase. Creating a `zod.d.ts` file in your project root is a common convention.

```
declare module "zod" {

  interface GlobalMeta {

    // add new fields here

    examples?: unknown[];

  }

}
```

### .meta()

For a more convenient approach, use the `.meta()` method to register a schema in `z.globalRegistry`.

```
const emailSchema = z.email().meta({ 

  id: "email_address",

  title: "Email address",

  description: "Please enter a valid email address",

});
```

Calling `.meta()` without an argument will *retrieve* the metadata for a schema.

```
emailSchema.meta();

// => { id: "email_address", title: "Email address", ... }
```

Metadata is associated with a *specific schema instance.* This is important to keep in mind, especially since Zod methods are immutable‚Äîthey always return a new instance.

```
const A = z.string().meta({ description: "A cool string" });

A.meta(); // => { description: "A cool string" }

 

const B = A.refine(_ => true);

B.meta(); // => undefined
```

### .describe()

The `.describe()` method is a shorthand for registering a schema in `z.globalRegistry` with just a `description` field.

```
const emailSchema = z.email();

emailSchema.describe("An email address");

 

// equivalent to

emailSchema.meta({ description: "An email address" });
```

## Custom registries

You've already seen a simple example of a custom registry:

```
import * as z from "zod";

 

const myRegistry = z.registry<{ description: string };>();
```

Let's look at some more advanced patterns.

### Referencing inferred types

It's often valuable for the metadata type to reference the *inferred type* of a schema. For instance, you may want an `examples` field to contain examples of the schema's output.

```
import * as z from "zod";

 

type MyMeta = { examples: z.$output[] };

const myRegistry = z.registry<MyMeta>();

 

myRegistry.add(z.string(), { examples: ["hello", "world"] });

myRegistry.add(z.number(), { examples: [1, 2, 3] });
```

The special symbol `z.$output` is a reference to the schemas inferred output type (`z.infer<typeof schema>`). Similarly you can use `z.$input` to reference the input type.

### Constraining schema types

Pass a second generic to `z.registry()` to constrain the schema types that can be added to a registry. This registry only accepts string schemas.

```
import * as z from "zod";

 

const myRegistry = z.registry<{ description: string }, z.ZodString>();

 

myRegistry.add(z.string(), { description: "A number" }); // ‚úÖ

myRegistry.add(z.number(), { description: "A number" }); // ‚ùå 

//             ^ 'ZodNumber' is not assignable to parameter of type 'ZodString'
```[Formatting errors](https://zod.dev/error-formatting)

[

Utilities for formatting and displaying Zod errors

](https://zod.dev/error-formatting)[

JSON Schema

How to convert Zod schemas to JSON Schema

](https://zod.dev/json-schema)